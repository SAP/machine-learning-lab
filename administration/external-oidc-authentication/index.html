



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the Machine Learning Lab">
      
      
        <link rel="canonical" href="https://sap.github.io/machine-learning-lab/administration/external-oidc-authentication/">
      
      
        <meta name="author" content="Lukas Masuch & Benjamin Räthlein">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-4.6.3">
    
    
      
        <title>External OIDC Authentication - Machine Learning Lab</title>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    <link rel="stylesheet" href="../../css/image-slider.css">

    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/mllab.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#external-oidc-authentication" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sap.github.io/machine-learning-lab/" title="Machine Learning Lab" aria-label="Machine Learning Lab" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Machine Learning Lab
            </span>
            <span class="md-header-nav__topic">
              
                External OIDC Authentication
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/sap/machine-learning-lab" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    sap/machine-learning-lab
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sap.github.io/machine-learning-lab/" title="Machine Learning Lab" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Machine Learning Lab
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/sap/machine-learning-lab" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    sap/machine-learning-lab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About ML Lab" class="md-nav__link">
      About ML Lab
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../walkthrough/lab-walkthrough/" title="ML Lab Walkthrough" class="md-nav__link">
      ML Lab Walkthrough
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/install-lab/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/core-concepts/" title="Core Concepts" class="md-nav__link">
      Core Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/lab-workspace/" title="Workspace" class="md-nav__link">
      Workspace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/lab-python-client/" title="ML Lab Python Client" class="md-nav__link">
      ML Lab Python Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/lab-api/" title="ML Lab REST API" class="md-nav__link">
      ML Lab REST API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/experiments-dashboard/" title="Experiments Dashboard" class="md-nav__link">
      Experiments Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/how-to-create-a-service/" title="How to create a Service" class="md-nav__link">
      How to create a Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/how-to-create-a-job/" title="How to create a Job" class="md-nav__link">
      How to create a Job
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Administration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Administration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../update-lab/" title="Update ML Lab" class="md-nav__link">
      Update ML Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../uninstall-lab/" title="Uninstall ML Lab" class="md-nav__link">
      Uninstall ML Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../manage-services/" title="Manage Services" class="md-nav__link">
      Manage Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backup-data/" title="Backup Data" class="md-nav__link">
      Backup Data
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        External OIDC Authentication
      </label>
    
    <a href="./" title="External OIDC Authentication" class="md-nav__link md-nav__link--active">
      External OIDC Authentication
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-ml-lab-authentication-flow" class="md-nav__link">
    The ML Lab Authentication Flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-external-oidc-authentication-with-azure-ad" class="md-nav__link">
    Setup external OIDC authentication with Azure AD
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-external-oidc-authentication-with-dex" class="md-nav__link">
    Setup external OIDC authentication with Dex
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/machine-learning-lifecycle/" title="ML Lifecycle" class="md-nav__link">
      ML Lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/architecture/" title="ML Lab Architecture" class="md-nav__link">
      ML Lab Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-ml-lab-authentication-flow" class="md-nav__link">
    The ML Lab Authentication Flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-external-oidc-authentication-with-azure-ad" class="md-nav__link">
    Setup external OIDC authentication with Azure AD
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-external-oidc-authentication-with-dex" class="md-nav__link">
    Setup external OIDC authentication with Dex
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/sap/machine-learning-lab/edit/master/docs/administration/external-oidc-authentication.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="external-oidc-authentication">External OIDC Authentication<a class="headerlink" href="#external-oidc-authentication" title="Permanent link">&para;</a></h1>
<p>By default, ML Lab offers authentication via username and password.
Users are either allowed to self-register or an admin needs to create their account and set an initial password.
This approach is simple but not always the safest as users might choose weak passwords or do not change them regularly.
That is why ML Lab allows the configuration of an external OIDC authentication provider (Azure AD, GitHub, etc.) to delegate the authentication to a third party.
OIDC is a simple identity layer on top of the OAuth 2.0 protocol and is supported by many authentication providers.</p>
<h2 id="the-ml-lab-authentication-flow">The ML Lab Authentication Flow<a class="headerlink" href="#the-ml-lab-authentication-flow" title="Permanent link">&para;</a></h2>
<p><a href="../images/ml-lab-authentication-flow.png"><img alt="ML Lab Authentication Flow" src="../images/ml-lab-authentication-flow.png" /></a></p>
<p>The sequence diagram above shows how ML Lab interacts with the external OIDC authentication provider.
After the user visits the login page, the browser is redirected to the external OIDC authentication endpoint which was configured via the environment variable <code>LAB_EXTERNAL_OIDC_AUTH_URL</code>.
Once the user authenticated successfully, the browser is redirected back to ML Lab backend.
It uses the configured external OIDC token URL (environment variable <code>LAB_EXTERNAL_OIDC_TOKEN_URL</code>), the client ID (environment variable <code>LAB_EXTERNAL_OIDC_CLIENT_ID</code>) and client secret (environment variable <code>LAB_EXTERNAL_OIDC_CLIENT_SECRET</code>) to request the user's OIDC identity token.
This token contains the user's e-mail address which functions as the username.
An ML Lab JWT token is set as a cookie in the user's browser so ML Lab can be used without further authentication.</p>
<h2 id="setup-external-oidc-authentication-with-azure-ad">Setup external OIDC authentication with Azure AD<a class="headerlink" href="#setup-external-oidc-authentication-with-azure-ad" title="Permanent link">&para;</a></h2>
<ol>
<li>Open the Azure portal, navigate to the Azure Active Directory" page and select "App registration" from the left side menu.</li>
<li>Click on the "Endpoints" tab.
The value shown for "OAuth 2.0 authorization endpoint (v2)" must be used for the <code>LAB_EXTERNAL_OIDC_AUTH_URL</code> environment variable.
The value shown for "OAuth 2.0 token endpoint (v2)" must be used for the <code>LAB_EXTERNAL_OIDC_TOKEN_URL</code> environment variable.</li>
<li>Click on the tab "New registration" and create a new app registration for ML Lab.</li>
<li>On the "Overview" page, copy the value of the "Application (client) ID" field. It will be used for the <code>LAB_EXTERNAL_OIDC_CLIENT_ID</code> environment variable.</li>
<li>On the left side menu choose "Certificates &amp; secrets" and click on "New client secret". Choose a name and expiration time. After that, copy the value of new newly created client secret.
It will be use for the <code>LAB_EXTERNAL_OIDC_CLIENT_SECRET</code> environment variable. The "ID" field is not required.</li>
<li>On the left side menu choose "Authentication" and click on "Add a platform".
There choose the "Web" platform and add the callback URL of your ML Lab instance (https://&lt;insert-your-host&gt;/api/auth/oidc/callback). Save your changes afterwards.</li>
<li>Now you can install the ML Lab like described <a href="../../installation/install-lab/">here</a> and set the required environment variables.</li>
</ol>
<h2 id="setup-external-oidc-authentication-with-dex">Setup external OIDC authentication with Dex<a class="headerlink" href="#setup-external-oidc-authentication-with-dex" title="Permanent link">&para;</a></h2>
<p>Dex is and identity service that uses OpenID Connect (OIDC) and provides a range of connectors to other authentication methods like SAML 2.0, LDAP, GitHub Oauth 2.0 and many more.
Detailed information on how to setup Dex can be found here: <a href="https://github.com/dexidp/dex">https://github.com/dexidp/dex</a>
It can be run as a docker container alongside ML Lab.
In the dex configuration file the client id and secret can be specified.
After starting Dex, the authentication and token URL can be found at <code>/dex/.well-known/openid-configuration</code>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../backup-data/" title="Backup Data" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Backup Data
              </span>
            </div>
          </a>
        
        
          <a href="../../architecture/machine-learning-lifecycle/" title="ML Lifecycle" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                ML Lifecycle
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/sap/machine-learning-lab" target="_blank" rel="noopener" title="github-alt" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.4.2",url:{base:"../.."}})</script>
      
    
    <script>

(function($) {
  // https://github.com/waylan/mkdocs-theme_dir-example
  "use strict";
  $.fn.sliderResponsive = function(settings) {
    
    var set = $.extend( 
      {
        slidePause: 5000,
        fadeSpeed: 800,
        autoPlay: "on",
        showArrows: "off", 
        hideDots: "off", 
        hoverZoom: "on",
        titleBarTop: "off"
      },
      settings
    ); 
    
    var $slider = $(this);
    var size = $slider.find("> div").length; //number of slides
    var position = 0; // current position of carousal
    var sliderIntervalID; // used to clear autoplay
      
    // Add a Dot for each slide
    $slider.append("<ul></ul>");
    $slider.find("> div").each(function(){
      $slider.find("> ul").append('<li></li>');
    });
      
    // Put .show on the first Slide
    $slider.find("div:first-of-type").addClass("show");
      
    // Put .showLi on the first dot
    $slider.find("li:first-of-type").addClass("showli")

     //fadeout all items except .show
    $slider.find("> div").not(".show").fadeOut();
    
    // If Autoplay is set to 'on' than start it
    if (set.autoPlay === "on") {
        startSlider(); 
    } 
    
    // If showarrows is set to 'on' then don't hide them
    if (set.showArrows === "on") {
        $slider.addClass('showArrows'); 
    }
    
    // If hideDots is set to 'on' then hide them
    if (set.hideDots === "on") {
        $slider.addClass('hideDots'); 
    }
    
    // If hoverZoom is set to 'off' then stop it
    if (set.hoverZoom === "off") {
        $slider.addClass('hoverZoomOff'); 
    }
    
    // If titleBarTop is set to 'on' then move it up
    if (set.titleBarTop === "on") {
        $slider.addClass('titleBarTop'); 
    }

    // function to start auto play
    function startSlider() {
      sliderIntervalID = setInterval(function() {
        nextSlide();
      }, set.slidePause);
    }
    
    // on mouseover stop the autoplay
    $slider.mouseover(function() {
      if (set.autoPlay === "on") {
        clearInterval(sliderIntervalID);
      }
    });
      
    // on mouseout starts the autoplay
    $slider.mouseout(function() {
      if (set.autoPlay === "on") {
        startSlider();
      }
    });

    //on right arrow click
    $slider.find("> .right").click(nextSlide)

    //on left arrow click
    $slider.find("> .left").click(prevSlide);
      
    // Go to next slide
    function nextSlide() {
      position = $slider.find(".show").index() + 1;
      if (position > size - 1) position = 0;
      changeCarousel(position);
    }
    
    // Go to previous slide
    function prevSlide() {
      position = $slider.find(".show").index() - 1;
      if (position < 0) position = size - 1;
      changeCarousel(position);
    }

    //when user clicks slider button
    $slider.find(" > ul > li").click(function() {
      position = $(this).index();
      changeCarousel($(this).index());
    });

    //this changes the image and button selection
    function changeCarousel() {
      $slider.find(".show").removeClass("show").fadeOut();
      $slider
        .find("> div")
        .eq(position)
        .fadeIn(set.fadeSpeed)
        .addClass("show");
      // The Dots
      $slider.find("> ul").find(".showli").removeClass("showli");
      $slider.find("> ul > li").eq(position).addClass("showli");
    }

    return $slider;
  };
})(jQuery);


 
//////////////////////////////////////////////
// Activate each slider - change options
//////////////////////////////////////////////
$(document).ready(function() {
  
  $("#slider1").sliderResponsive({
    slidePause: 7000,
    fadeSpeed: 400,
    autoPlay: "on",
    showArrows: "off", 
    hideDots: "on", 
    hoverZoom: "off", 
    titleBarTop: "off"
  });
}); 



    </script>

  </body>
</html>