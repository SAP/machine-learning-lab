



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the Machine Learning Lab">
      
      
        <link rel="canonical" href="https://sap.github.io/machine-learning-lab/installation/install-lab/">
      
      
        <meta name="author" content="Lukas Masuch & Benjamin Räthlein">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-4.6.3">
    
    
      
        <title>Installation - Machine Learning Lab</title>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    <link rel="stylesheet" href="../../css/image-slider.css">

    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/mllab.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#ml-lab-installation" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sap.github.io/machine-learning-lab/" title="Machine Learning Lab" aria-label="Machine Learning Lab" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Machine Learning Lab
            </span>
            <span class="md-header-nav__topic">
              
                Installation
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/sap/machine-learning-lab" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    sap/machine-learning-lab
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sap.github.io/machine-learning-lab/" title="Machine Learning Lab" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Machine Learning Lab
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/sap/machine-learning-lab" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    sap/machine-learning-lab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About ML Lab" class="md-nav__link">
      About ML Lab
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../walkthrough/lab-walkthrough/" title="ML Lab Walkthrough" class="md-nav__link">
      ML Lab Walkthrough
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Installation
      </label>
    
    <a href="./" title="Installation" class="md-nav__link md-nav__link--active">
      Installation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    Preparation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose-service-runtime" class="md-nav__link">
    Choose Service Runtime
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy" class="md-nav__link">
    Proxy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-with-docker-local-mode" class="md-nav__link">
    Install with Docker Local Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-with-kubernetes-mode-own-cluster" class="md-nav__link">
    Install with Kubernetes Mode (Own Cluster)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-with-kubernetes-managed-cluster-such-as-aws-eks" class="md-nav__link">
    Install with Kubernetes (Managed Cluster such as AWS EKS)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#difference-to-custom-cluster-setup" class="md-nav__link">
    Difference to Custom Cluster Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#after-installation" class="md-nav__link">
    After Installation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/core-concepts/" title="Core Concepts" class="md-nav__link">
      Core Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/lab-workspace/" title="Workspace" class="md-nav__link">
      Workspace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/lab-python-client/" title="ML Lab Python Client" class="md-nav__link">
      ML Lab Python Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/lab-api/" title="ML Lab REST API" class="md-nav__link">
      ML Lab REST API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/experiments-dashboard/" title="Experiments Dashboard" class="md-nav__link">
      Experiments Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/how-to-create-a-service/" title="How to create a Service" class="md-nav__link">
      How to create a Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/how-to-create-a-job/" title="How to create a Job" class="md-nav__link">
      How to create a Job
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Administration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Administration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../administration/update-lab/" title="Update ML Lab" class="md-nav__link">
      Update ML Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../administration/uninstall-lab/" title="Uninstall ML Lab" class="md-nav__link">
      Uninstall ML Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../administration/manage-services/" title="Manage Services" class="md-nav__link">
      Manage Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../administration/backup-data/" title="Backup Data" class="md-nav__link">
      Backup Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../administration/external-oidc-authentication/" title="External OIDC Authentication" class="md-nav__link">
      External OIDC Authentication
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/machine-learning-lifecycle/" title="ML Lifecycle" class="md-nav__link">
      ML Lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/architecture/" title="ML Lab Architecture" class="md-nav__link">
      ML Lab Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    Preparation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose-service-runtime" class="md-nav__link">
    Choose Service Runtime
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy" class="md-nav__link">
    Proxy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-with-docker-local-mode" class="md-nav__link">
    Install with Docker Local Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-with-kubernetes-mode-own-cluster" class="md-nav__link">
    Install with Kubernetes Mode (Own Cluster)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-with-kubernetes-managed-cluster-such-as-aws-eks" class="md-nav__link">
    Install with Kubernetes (Managed Cluster such as AWS EKS)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#difference-to-custom-cluster-setup" class="md-nav__link">
    Difference to Custom Cluster Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#after-installation" class="md-nav__link">
    After Installation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/sap/machine-learning-lab/edit/master/docs/installation/install-lab.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="ml-lab-installation">ML Lab Installation<a class="headerlink" href="#ml-lab-installation" title="Permanent link">&para;</a></h1>
<h2 id="preparation">Preparation<a class="headerlink" href="#preparation" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Install Docker</p>
<p>ML Lab requires Docker to be installed on your host machine.</p>
</div>
<h3 id="choose-service-runtime">Choose Service Runtime<a class="headerlink" href="#choose-service-runtime" title="Permanent link">&para;</a></h3>
<p>ML Lab installs and orchestrates various services in the form of Docker container. At the moment, we offer the following installation modes:</p>
<ul>
<li><strong>Docker Local Mode:</strong> Deploys all services on the same machine as ML Lab. Easy to setup and manage, but does not scale.</li>
<li><strong>Kubernetes Mode:</strong> Distributes all services across a cluster of nodes via Kubernetes. For more information about Kubernetes, please refer to the <a href="https://kubernetes.io/docs/home/">official guide</a>.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are not sure which mode to use, we recommend the <strong>local mode</strong>.</p>
</div>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>If you have special requirements (e.g. data persistance, ssl, hardware restrictions), please consult the <a href="#configuration">configuration section</a> before installing ML Lab.</p>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<h4 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h4>
<p>The container can be configured with following environment variables (<code>--env</code>):</p>
<table>
    <tr>
        <th>Variable</th>
        <th>Description</th>
        <th>Default</th>
    </tr>
     <tr>
        <td>LAB_ACTION</td>
        <td>Available actions: install, uninstall, serve, update, update-full</td>
        <td>install</td>
    </tr>
    <tr>
        <td>LAB_PORT</td>
        <td>Main port that the ML Lab instance is accesible from.</td>
        <td>8091</td>
    </tr>
    <tr>
        <td>LAB_BASE_URL</td>
        <td>
            If you deploy ML Lab behind a proxy, you can define a base url. It must not end with a slash. For example, if the web app should be accessible behind <i>/test/app</i> instead of <i>/app</i>, the <i>LAB_BASE_URL</i> would be defined as <i>/test</i>.
        </td>
        <td></td>
    </tr>
    <tr>
        <td>SERVICES_RUNTIME</td>
        <td>Determines the technology used for container orchastration. Currently supported: local, kubernetes</td>
        <td>local</td>
    </tr>
    <tr>
        <td>JWT_SECRET</td>
        <td>The secret used for the authentication layer.</td>
        <td>(required); at least 32 characters long</td>
    </tr>
    <tr>
        <td>SERVICE_SSL_ENABLED</td>
        <td>Set to true to enable ssl encryption (HTTPS support). If no certificate is provided, a self-signed certificate is generated; this certificate expires within a year, so the ML Lab container has to be re-created for fresh certificates.</td>
        <td>false</td>
    </tr>
    <tr>
        <td>LAB_SSL_ROOT</td>
        <td>The path on the host system to the folder containing a custom ssl certificate. The folder must contain a cert.crt and cert.key file. This folder is mounted into the ML Lab container, so to renew the certificate it must be replaced on the host system and the ML Lab container has to be restarted. If the <i>LAB_SSL_ROOT</i> variable is not set, ML Lab will look for a volume named lab_ssl. If no such named volume exists, a self signed certificate will be generated. The <i>LAB_SSL_ROOT</i> variable is only valid for docker local mode as secretes are used on Kubernetes.
        <td>(optional)</td>
    </tr>
    <tr>
        <td>LAB_NAMESPACE</td>
        <td>The namespace used for the ML Lab installation. At the moment, we suggest to not change this value.</td>
        <td>lab</td>
    </tr>
     <tr>
        <td>SERVICES_MEMORY_LIMIT</td>
        <td>The memory limit (in GB) that every ML Lab managed service, including workspaces, is restricted to.</td>
        <td>100</td>
    </tr>
    <tr>
        <td>SERVICES_CPU_LIMIT</td>
        <td>The CPU limit (number of CPUs) that every ML Lab managed service, including workspaces, is restricted to.</td>
        <td>8</td>
    </tr>
    <tr>
        <td>SERVICES_STORAGE_LIMIT</td>
        <td>The storage limit (in GB) that every ML Lab managed service, including workspaces, is restricted to. For Docker-local and Kubernetes custom cluster setup, there is only a soft enforcement in the workspace. In case of the Kubernetes managed cluster setup, a volume with this size is created on the respective infrastructure and mounted into the service pod (check this as this can lead to substantial costs!).</td>
        <td>100</td>
    </tr>
    <tr>
        <td>MAX_CONTAINER_SIZE</td>
        <td>The maximum size a ML Lab managed container is allowed to grow in Gigabytes. If you add data to a container's writeable layer - basically a path where no volume is mounted - the container size grows. If not set, a container can theoretically consume all of the host's storage. For Docker-local, ML Lab contains a REST-method (/containers/shutdown-disk-exceeding) that will remove all non-core containers that exceed this limit (in Docker-local mode, currently only workspaces are removed). In Kubernetes mode, the native functionality of <i>ephemeral-storage limit</i> is used (for all non-core pods). Set to '-1' to disable it.</td>
        <td>100</td>
    </tr>
    <tr>
        <td>LAB_DATA_ROOT</td>
        <td>Basic mount path where all data is stored.</td>
        <td>(optional)</td>
    </tr>
    <tr>
        <td>LAB_DATA_WORKSPACE_ROOT</td>
        <td>Basic mount path where all workspace data is stored. Overwrites the LAB_DATA_ROOT variable for workspace mount.</td>
        <td>(optional)</td>
    </tr>
     <tr>
        <td>LAB_DEBUG</td>
        <td>If true, ML Lab will expose all ports and print out debug logs.</td>
        <td>false</td>
    </tr>
    <tr>
        <td>LAB_SSH_ENABLED</td>
        <td>Enable ssh jumphost if ML Lab should publish port 22 on startup and start an SSH server. The jumphost functionality can be used so that users can ssh into their own workspace. SSHing into the workspace container itself is not possible.</td>
        <td>true</td>
    </tr>
    <tr>
        <td>ALLOW_SELF_REGISTRATIONS</td>
        <td>If true, ML Lab will allow user self registrations via register dialog or automatically create users if external OIDC authentication is enabled.</td>
        <td>true</td>
    </tr>
    <tr>
        <td>WORKSPACE_BACKUP</td>
        <td>If true, workspaces will be automatically backuped every day to the ML Lab Storage and restored if necessary.</td>
        <td>false</td>
    </tr>
   <tr>
        <td>WORKSPACE_IMAGE</td>
        <td>Docker image used for user workspaces. Should be build on top of the ml-workspace base image.</td>
        <td>(optional)</td>
    </tr>
    <tr>
        <td>LAB_MANAGED_KUBERNETES</td>
        <td>Specifies whether it is running on a managed Kubernetes cluster instance. For more information, please have a look at the Section about Kubernetes managed cluster setup.</td>
        <td>false</td>
    </tr>
     <tr>
        <td>LAB_STORAGE_CLASS</td>
        <td>Only relevant for Kubernetes managed cluster setup. The storage class name that is used by the persistent volume claims for issuing the volumes mounted into the pods of Minio, Mongo, and the Workspaces.</td>
        <td>lab-storageclass</td>
    </tr>
    <tr>
        <td>LAB_PVC_MINIO_STORAGE_LIMIT</td>
        <td>Only relevant for Kubernetes managed cluster setup. It defines the size of the volume created and mounted into the Minio pod in GB. Minio is the storage for uploaded files such as datasets and models.</td>
        <td>100</td>
    </tr>
    <tr>
        <td>LAB_PVC_MONGO_STORAGE_LIMIT</td>
        <td>Only relevant for Kubernetes managed cluster setup. It defines the size of the volume created and mounted into the Mongo pod in GB. Mongo contains the data for experiments and users.</td>
        <td>5</td>
    </tr>
    <tr>
        <td>LAB_IMAGE_REGISTRY</td>
        <td>
            The registry prefix from where the images <i>lab-service</i> and <i>lab-model-service</i> are loaded. If you, for example, deploy it in Azure you might not have access to the internal Artifactory registry. Make sure to push the images to the defined registry. If you don't use the one-click model-deployment feature, you don't have to push the <i>lab-model-service</i> image.
        </td>
        <td>Default DockerHub registry</td>
    </tr>
    <tr>
        <td>LAB_EXTERNAL_OIDC_AUTH_URL</td>
        <td>The authorization endpoint used for external OIDC authentication. The client will be redirected to this page to authenticate with the external authentication provider. For detailed information see: <a href="../../administration/external-oidc-authentication">External OIDC Authentication</a></td>
        <td>(optional)</td>
    </tr>
    <tr>
        <td>LAB_EXTERNAL_OIDC_TOKEN_URL</td>
        <td>The token endpoint used for external OIDC authentication. It will be used by the backend to obtain the OIDC identity token in exchange for an authorization code. For detailed information see: <a href="../../administration/external-oidc-authentication">External OIDC Authentication</a></td>
        <td>(optional)</td>
    </tr>
    <tr>
        <td>LAB_EXTERNAL_OIDC_CLIENT_ID</td>
        <td>The OAuth 2.0 client identifier used for external OIDC authentication. For detailed information see: <a href="../../administration/external-oidc-authentication">External OIDC Authentication</a></td>
        <td>(optional)</td>
    </tr>
    <tr>
        <td>LAB_EXTERNAL_OIDC_CLIENT_SECRET</td>
        <td>The OAuth 2.0 client secret used for external OIDC authentication. For detailed information see: <a href="../../administration/external-oidc-authentication">External OIDC Authentication</a></td>
        <td>(optional)</td>
    </tr>
</table>

<h4 id="proxy">Proxy<a class="headerlink" href="#proxy" title="Permanent link">&para;</a></h4>
<p>If a proxy is required, you can pass the proxy configuration via the <code>http_proxy</code> and <code>no_proxy</code> environment variables. For example: <code>--env http_proxy=http://myproxy:1234</code></p>
<h3 id="install-with-docker-local-mode">Install with Docker Local Mode<a class="headerlink" href="#install-with-docker-local-mode" title="Permanent link">&para;</a></h3>
<p><em>Note: The install commands here are currently based on the scenario where you built the Docker images locally yourself. For seeing how to use ready images, please check the Readme of the GitHub repository <a href="https://github.com/SAP/machine-learning-lab#getting-started">here</a></em></p>
<p>To start  ML Lab in a single-host (local) deployment execute:</p>
<div class="highlight"><pre><span></span><code>docker run --rm --env <span class="nv">LAB_PORT</span><span class="o">=</span><span class="m">8091</span> -v /var/run/docker.sock:/var/run/docker.sock --env <span class="nv">LAB_ACTION</span><span class="o">=</span>install lab-service:latest
</code></pre></div>
<p>After the installation is finished (after several minutes depending on internet speed), visit <code>http://&lt;HOSTIP&gt;:8091</code> and login with <code>admin:admin</code>.</p>
<p><strong>Enable SSL</strong></p>
<p>For SSL setup, create the certificate (files must be called cert.crt and cert.key) and specify their path on the host machine via the <code>LAB_SSL_ROOT</code> environment variable. Additionally you need to set <code>SERVICE_SSL_ENABLED</code> to true:
<div class="highlight"><pre><span></span><code>docker run --rm --env <span class="nv">LAB_PORT</span><span class="o">=</span><span class="m">8091</span> <span class="se">\</span>
    --env <span class="nv">SERVICE_SSL_ENABLED</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
    --env <span class="nv">LAB_SSL_ROOT</span><span class="o">=</span>/workspace/ssl <span class="se">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
    lab-service:latest
</code></pre></div></p>
<p>Alternatively, instead of specifying <code>LAB_SSL_ROOT</code>, the certificate can be provided in a docker volume named <code>lab_ssl</code>.
If you don't provide a custom certificate, a self-signed certificate is generated and used. Be aware that applications such as your browser might not trust the certificate.</p>
<h3 id="install-with-kubernetes-mode-own-cluster">Install with Kubernetes Mode (Own Cluster)<a class="headerlink" href="#install-with-kubernetes-mode-own-cluster" title="Permanent link">&para;</a></h3>
<p>These steps are for a custom cluster that does not use a hyperscaler / automated infrastructure in the background. If you have a managed cluster (such as AWS EKS), then please follow the steps in the next Section.</p>
<div class="admonition info">
<p class="admonition-title">Install Kubernetes</p>
<p>For Kubernetes Mode, please make sure that your server/cluster is installed with Docker and Kubernetes (Version &gt;=1.11). You can find more information about Kubernetes installation <a href="./installation/install-kubernetes/linux">here</a>.</p>
</div>
<p><strong>Preparation</strong></p>
<p>For the Kubernetes deployment, a few minor steps to prepare the host have to be made such as creating a directory where the data is stored etc. since Kubernetes does not have the concept of Docker's named volumes. The Kubernetes version of the ML Lab needs the kube config of the cluster as well as the access to the Docker socket.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># label the master node with role=master, as we use it in ML Lab</span>
kubectl label nodes &lt;name-of-master-node&gt; <span class="nv">role</span><span class="o">=</span>master

<span class="c1"># install nfs-common for mounting nfs-service in workspace</span>
apt-get install nfs-common

<span class="c1"># create the data root directory that will be used by Kubernetes</span>
<span class="c1"># Default is `/workspace/lab/&lt;namespace&gt;/data`</span>
<span class="c1"># Hence, when creating a Lab for default namespace &#39;lab&#39;:</span>
mkdir -p /workspace/lab/lab/data
</code></pre></div>
<p><strong>Installation</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># On Mac: in ~/.kube/config for &#39;server&#39; field replace &#39;localhost&#39; with &#39;docker.for.mac.localhost&#39;</span>
docker run --rm --env <span class="nv">LAB_PORT</span><span class="o">=</span><span class="m">30001</span> <span class="se">\</span>
    -v /root/.kube/config:/root/.kube/config <span class="se">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
    --env <span class="nv">SERVICES_RUNTIME</span><span class="o">=</span>k8s <span class="se">\</span>
    --env <span class="nv">LAB_DATA_ROOT</span><span class="o">=</span>/workspace/lab/stulabdio/data <span class="se">\</span>
    lab-service:latest
</code></pre></div>
<p>After installation is finished (after several minutes depending on intranet speed), visit <code>http://&lt;HOSTIP&gt;:30001</code> and login with <code>admin:admin</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When a container, e.g. the Workspace container, is launched on a node the first time, it's Docker image has to be pulled to that node. This can take some time in which the user sees a loading screen. To prevent this, you can pull the images manually for each node beforehand.</p>
</div>
<p><strong>Enable SSL</strong></p>
<p>For SSL setup, create the certificates and mount them into the container's directory at <code>/resources/ssl</code> (<code>-v /workspace/ssl:/resources/ssl:ro</code>) and start with <code>--env SERVICE_SSL_ENABLED=true</code>:</p>
<div class="highlight"><pre><span></span><code>docker run --rm --env <span class="nv">LAB_PORT</span><span class="o">=</span><span class="m">30001</span> <span class="se">\</span>
    -v /root/.kube/config:/root/.kube/config <span class="se">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
    --env <span class="nv">SERVICES_RUNTIME</span><span class="o">=</span>k8s <span class="se">\</span>
    --env <span class="nv">LAB_DATA_ROOT</span><span class="o">=</span>/workspace/lab/lab/data <span class="se">\</span>
    --env <span class="nv">SERVICE_SSL_ENABLED</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
    -v /workspace/ssl:/resources/ssl:ro <span class="se">\</span>
    lab-service:latest
</code></pre></div>
<p>The files have to be named <code>cert.crt</code> and <code>cert.key</code> .</p>
<h3 id="install-with-kubernetes-managed-cluster-such-as-aws-eks">Install with Kubernetes (Managed Cluster such as AWS EKS)<a class="headerlink" href="#install-with-kubernetes-managed-cluster-such-as-aws-eks" title="Permanent link">&para;</a></h3>
<p>TODO</p>
<h4 id="difference-to-custom-cluster-setup">Difference to Custom Cluster Setup<a class="headerlink" href="#difference-to-custom-cluster-setup" title="Permanent link">&para;</a></h4>
<p>In the Managed Cluster scenario, the biggest difference is that you don't have to take care of the volumes as here we leverage persistent volume (claims) to automatically issue volumes in the background. Hence, no need for the NFS service here.<br />
In this setup mode, ML Lab accesses the cluster via its ServiceAccount permissions and <em>not</em> via a mounted kube-config.</p>
<div class="admonition warn">
<p class="admonition-title">Costs</p>
<p>As volumes are created automatically on the infrastructure based on the Kubernetes persistent volume claims, make sure to have an eye on your costs and set the size for the volume via the respective environment variables accordingly. Even when deleting the Kuberentes PersistentVolume and PersistentVolumeClaim resources, the actual volumes might still exist on the cloud provider and have to be deleted manually.  </p>
</div>
<h2 id="after-installation">After Installation<a class="headerlink" href="#after-installation" title="Permanent link">&para;</a></h2>
<p>Please makes sure to change the <code>admin</code> password (<code>User-menu -&gt; Change Password</code>) after the installation was successful. We also recommend to activate a data backup job as described <a href="../../administration/backup-data/">here</a>. Check out the administration section in this documentation for more information on how to <a href="../../administration/update-lab/">update</a>/<a href="../../administration/uninstall-lab/">uninstall</a> Lab, or <a href="../../administration/manage-services/">manage services</a>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../walkthrough/lab-walkthrough/" title="ML Lab Walkthrough" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ML Lab Walkthrough
              </span>
            </div>
          </a>
        
        
          <a href="../../usage/core-concepts/" title="Core Concepts" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Core Concepts
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/sap/machine-learning-lab" target="_blank" rel="noopener" title="github-alt" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.3.1",url:{base:"../.."}})</script>
      
    
    <script>

(function($) {
  // https://github.com/waylan/mkdocs-theme_dir-example
  "use strict";
  $.fn.sliderResponsive = function(settings) {
    
    var set = $.extend( 
      {
        slidePause: 5000,
        fadeSpeed: 800,
        autoPlay: "on",
        showArrows: "off", 
        hideDots: "off", 
        hoverZoom: "on",
        titleBarTop: "off"
      },
      settings
    ); 
    
    var $slider = $(this);
    var size = $slider.find("> div").length; //number of slides
    var position = 0; // current position of carousal
    var sliderIntervalID; // used to clear autoplay
      
    // Add a Dot for each slide
    $slider.append("<ul></ul>");
    $slider.find("> div").each(function(){
      $slider.find("> ul").append('<li></li>');
    });
      
    // Put .show on the first Slide
    $slider.find("div:first-of-type").addClass("show");
      
    // Put .showLi on the first dot
    $slider.find("li:first-of-type").addClass("showli")

     //fadeout all items except .show
    $slider.find("> div").not(".show").fadeOut();
    
    // If Autoplay is set to 'on' than start it
    if (set.autoPlay === "on") {
        startSlider(); 
    } 
    
    // If showarrows is set to 'on' then don't hide them
    if (set.showArrows === "on") {
        $slider.addClass('showArrows'); 
    }
    
    // If hideDots is set to 'on' then hide them
    if (set.hideDots === "on") {
        $slider.addClass('hideDots'); 
    }
    
    // If hoverZoom is set to 'off' then stop it
    if (set.hoverZoom === "off") {
        $slider.addClass('hoverZoomOff'); 
    }
    
    // If titleBarTop is set to 'on' then move it up
    if (set.titleBarTop === "on") {
        $slider.addClass('titleBarTop'); 
    }

    // function to start auto play
    function startSlider() {
      sliderIntervalID = setInterval(function() {
        nextSlide();
      }, set.slidePause);
    }
    
    // on mouseover stop the autoplay
    $slider.mouseover(function() {
      if (set.autoPlay === "on") {
        clearInterval(sliderIntervalID);
      }
    });
      
    // on mouseout starts the autoplay
    $slider.mouseout(function() {
      if (set.autoPlay === "on") {
        startSlider();
      }
    });

    //on right arrow click
    $slider.find("> .right").click(nextSlide)

    //on left arrow click
    $slider.find("> .left").click(prevSlide);
      
    // Go to next slide
    function nextSlide() {
      position = $slider.find(".show").index() + 1;
      if (position > size - 1) position = 0;
      changeCarousel(position);
    }
    
    // Go to previous slide
    function prevSlide() {
      position = $slider.find(".show").index() - 1;
      if (position < 0) position = size - 1;
      changeCarousel(position);
    }

    //when user clicks slider button
    $slider.find(" > ul > li").click(function() {
      position = $(this).index();
      changeCarousel($(this).index());
    });

    //this changes the image and button selection
    function changeCarousel() {
      $slider.find(".show").removeClass("show").fadeOut();
      $slider
        .find("> div")
        .eq(position)
        .fadeIn(set.fadeSpeed)
        .addClass("show");
      // The Dots
      $slider.find("> ul").find(".showli").removeClass("showli");
      $slider.find("> ul > li").eq(position).addClass("showli");
    }

    return $slider;
  };
})(jQuery);


 
//////////////////////////////////////////////
// Activate each slider - change options
//////////////////////////////////////////////
$(document).ready(function() {
  
  $("#slider1").sliderResponsive({
    slidePause: 7000,
    fadeSpeed: 400,
    autoPlay: "on",
    showArrows: "off", 
    hideDots: "on", 
    hoverZoom: "off", 
    titleBarTop: "off"
  });
}); 



    </script>

  </body>
</html>